<beans>


	<!-- Model -->

	<bean id="ListingService" class="com_wolfnet_wordpress_listing_service">
		<property name="DAO">
			<ref bean="ListingDAO" />
		</property>
		<property name="DataService">
			<!-- Defined in WPPF service factory -->
			<ref bean="JsonDataService" />
		</property>
		<property name="WebServiceUrl">
			<!-- Defined in WPPF service factory -->
			<ref bean="DefaultWebServiceUrl" />
		</property>
		<property name="OptionManager">
			<!-- Defined in WPPF service factory -->
			<ref bean="OptionManager" />
		</property>
	</bean>

	<bean id="ListingDAO" class="com_wolfnet_wordpress_listing_dao">
		<property name="EntityPrototype">
			<ref bean="Listing" />
		</property>
		<property name="BrandingDao">
			<ref bean="BrandingDAO" />
		</property>
	</bean>

	<bean id="Listing" class="com_wolfnet_wordpress_listing_entity" />

	<bean id="BrandingDAO" class="com_wolfnet_wordpress_listing_branding_dao">
		<property name="EntityPrototype">
			<ref bean="Branding" />
		</property>
	</bean>

	<bean id="Branding" class="com_wolfnet_wordpress_listing_branding_entity" />

	<bean id="MarketDisclaimerService" class="com_wolfnet_wordpress_market_disclaimer_service">
		<property name="DAO">
			<ref bean="MarketDisclaimerDAO" />
		</property>
		<property name="DataService">
			<!-- Defined in WPPF service factory -->
			<ref bean="JsonDataService" />
		</property>
		<property name="WebServiceUrl">
			<!-- Defined in WPPF service factory -->
			<ref bean="DefaultWebServiceUrl" />
		</property>
		<property name="OptionManager">
			<!-- Defined in WPPF service factory -->
			<ref bean="OptionManager" />
		</property>
	</bean>

	<bean id="MarketDisclaimerDAO" class="com_wolfnet_wordpress_market_disclaimer_dao">
		<property name="EntityPrototype">
			<ref bean="MarketDisclaimer" />
		</property>
	</bean>

	<bean id="MarketDisclaimer" class="com_wolfnet_wordpress_market_disclaimer_entity" />

	<bean id="SettingsService" class="com_wolfnet_wordpress_settings_service">
		<property name="DAO">
			<ref bean="SettingsDAO" />
		</property>
		<property name="DataService">
			<!-- Defined in WPPF service factory -->
			<ref bean="JsonDataService" />
		</property>
		<property name="WebServiceUrl">
			<!-- Defined in WPPF service factory -->
			<ref bean="DefaultWebServiceUrl" />
		</property>
		<property name="OptionManager">
			<!-- Defined in WPPF service factory -->
			<ref bean="OptionManager" />
		</property>
	</bean>

	<bean id="SettingsDAO" class="com_wolfnet_wordpress_settings_dao">
		<property name="EntityPrototype">
			<ref bean="Settings" />
		</property>
	</bean>

	<bean id="Settings" class="com_wolfnet_wordpress_settings_entity" />

	<bean id="DefaultWebServiceUrl" class="com_greentiedev_wppf_data_webServiceUrl">
		<property name="Domain">
			<value>${webServiceDomain}</value>
		</property>
	</bean>

	<bean id="SearchService" class="com_wolfnet_wordpress_search_service">
		<property name="SettingsService">
			<ref bean="SettingsService" />
		</property>
	</bean>


	<!-- Views -->

	<bean id="PluginSettingsView" class="com_wolfnet_wordpress_admin_pluginSettingsView" singleton="false">
		<property name="OptionManager">
			<!-- Defined in the WPPF Service Factory -->
			<ref bean="OptionManager" />
		</property>
	</bean>

	<bean id="PluginInstructionsView" class="com_wolfnet_wordpress_admin_pluginInstructionsView" singleton="false">
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="SearchManagerView" class="com_wolfnet_wordpress_admin_searchManagerView" singleton="false">
		<property name="SettingsService">
			<ref bean="SettingsService" />
		</property>
		<property name="SearchService">
			<ref bean="SearchService" />
		</property>
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="SimpleListingView" class="com_wolfnet_wordpress_listing_listingView" singleton="false">
		<property name="Template">
			<value>/template/listingSimple.php</value>
		</property>
	</bean>

	<bean id="BriefListingView" class="com_wolfnet_wordpress_listing_listingView" singleton="false">
		<property name="Template">
			<value>/template/listingBrief.php</value>
		</property>
	</bean>

	<bean id="FeaturedListingsView" class="com_wolfnet_wordpress_listing_featuredListingsView" singleton="false">
		<property name="ListingView">
			<ref bean="SimpleListingView" />
		</property>
	</bean>

	<bean id="FeaturedListingsOptionsView" class="com_wolfnet_wordpress_listing_featuredListingsOptionsView" singleton="false" />

	<bean id="ListingGridView" class="com_wolfnet_wordpress_listing_listingGridView" singleton="false">
		<property name="ListingView">
			<ref bean="SimpleListingView" />
		</property>
		<property name="Template">
			<value>/template/listingGrid.php</value>
		</property>
	</bean>

	<bean id="ListingGridOptionsView" class="com_wolfnet_wordpress_listing_listingGridOptionsView" singleton="false" />

	<bean id="PropertyListView" class="com_wolfnet_wordpress_listing_listingGridView" singleton="false">
		<property name="ListingView">
			<ref bean="BriefListingView" />
		</property>
		<property name="Template">
			<value>/template/propertyList.php</value>
		</property>
	</bean>

	<bean id="QuickSearchOptionsView" class="com_wolfnet_wordpress_listing_quickSearchOptionsView" singleton="false" />

	<bean id="QuickSearchView" class="com_wolfnet_wordpress_listing_quickSearchView" singleton="false">
		<property name="SettingsService">
			<ref bean="SettingsService" />
		</property>
	</bean>


	<!-- Actions -->

	<bean id="EnqueueResources" class="com_wolfnet_wordpress_action_enqueueResources">
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="CreateAdminPages" class="com_wolfnet_wordpress_action_createAdminPages">
		<property name="PluginSettingsView">
			<ref bean="PluginSettingsView" />
		</property>
		<property name="PluginInstructionsView">
			<ref bean="PluginInstructionsView" />
		</property>
		<property name="SearchManagerView">
			<ref bean="SearchManagerView" />
		</property>
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="RegisterWidgets" class="com_wolfnet_wordpress_action_registerWidgets" />

	<bean id="EnqueueAdminResources" class="com_wolfnet_wordpress_action_enqueueAdminResources">
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="FooterDisclaimer" class="com_wolfnet_wordpress_action_footerDisclaimer">
		<property name="MarketDisclaimerService">
			<ref bean="MarketDisclaimerService" />
		</property>
	</bean>

	<bean id="AddShortcodeBuilderButton" class="com_wolfnet_wordpress_action_addShortcodeBuilderButton">
		<property name="pluginUrl">
			<value>${pluginUrl}</value>
		</property>
	</bean>

	<bean id="RegisterRewriteRules" class="com_wolfnet_wordpress_action_registerRewriteRules" />

	<bean id="ManageRewritePages" class="com_wolfnet_wordpress_action_manageRewritePages">
		<property name="ListingService">
			<ref bean="ListingService" />
		</property>
		<property name="SearchService">
			<ref bean="SearchService" />
		</property>
		<property name="SettingsService">
			<ref bean="SettingsService" />
		</property>
		<property name="FeaturedListingsOptionsView">
			<ref bean="FeaturedListingsOptionsView" />
		</property>
		<property name="ListingGridOptionsView">
			<ref bean="ListingGridOptionsView" />
		</property>
		<property name="QuickSearchOptionsView">
			<ref bean="QuickSearchOptionsView" />
		</property>
		<property name="EnqueueResourcesAction">
			<ref bean="EnqueueResources" />
		</property>
	</bean>

	<bean id="RegisterCustomPostTypes" class="com_wolfnet_wordpress_action_registerCustomPostTypes" />


	<!-- Shortcodes -->

	<bean id="ListingQuickSearchShortcode" class="com_wolfnet_wordpress_listing_quickSearchShortcode">
		<property name="ListingService">
			<ref bean="ListingService" />
		</property>
		<property name="QuickSearchView">
			<ref bean="QuickSearchView" />
		</property>
	</bean>

	<bean id="FeaturedListingsShortcode" class="com_wolfnet_wordpress_listing_featuredListingsShortcode">
		<property name="ListingService">
			<ref bean="ListingService" />
		</property>
		<property name="FeaturedListingsView">
			<ref bean="FeaturedListingsView" />
		</property>
	</bean>

	<bean id="ListingGridShortcode" class="com_wolfnet_wordpress_listing_listingGridShortcode">
		<property name="ListingService">
			<ref bean="ListingService" />
		</property>
		<property name="ListingGridView">
			<ref bean="ListingGridView" />
		</property>
	</bean>

	<bean id="PropertyListShortcode" class="com_wolfnet_wordpress_listing_propertyListShortcode">
		<property name="ListingService">
			<ref bean="ListingService" />
		</property>
		<property name="ListingGridView">
			<ref bean="PropertyListView" />
		</property>
	</bean>


</beans>
