/**
 * CSS Document
 *
 * @package       css
 * @title         wolfnet.cedar.less
 * @copyright     Copyright (c) 2016 WolfNet Technologies, LLC
 *
 *                This program is free software; you can redistribute it and/or
 *                modify it under the terms of the GNU General Public License
 *                as published by the Free Software Foundation; either version 2
 *                of the License, or (at your option) any later version.
 *
 *                This program is distributed in the hope that it will be useful,
 *                but WITHOUT ANY WARRANTY; without even the implied warranty of
 *                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *                GNU General Public License for more details.
 *
 *                You should have received a copy of the GNU General Public License
 *                along with this program; if not, write to the Free Software
 *                Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 *
 */

@import 'public/css/_variables.inc.less';
@import 'public/css/_mixins.inc.less';


//
// Variables
// -------------------------------------------- //


//== Listing dimensions

@listingImgRatio:       4 / 3;

@listingPadding:        20px;
@infoPadding:           6px;

@listingImgWidth:       272px;
@listingImgWidthSm:     round(@listingImgWidth * 0.85);  // ~230
@listingImgWidthXs:     round(@listingImgWidth * 0.714); // ~195

@listingImgHeight:      round(@listingImgWidth   / @listingImgRatio); // ~205
@listingImgHeightSm:    round(@listingImgWidthSm / @listingImgRatio); // ~173
@listingImgHeightXs:    round(@listingImgWidthXs / @listingImgRatio); // ~146

@listingWidth:          @listingImgWidth;
@listingWidthSm:        @listingImgWidthSm;
@listingWidthXs:        @listingImgWidthXs;

@listingHeight:         auto;

@listingLocationWidth:  100%;

@brandingWidth:         100%;

@control-width:         36px;
@control-height:        36px;


//== Colors

@accentColor:           #333;


//
// Styles
// -------------------------------------------- //


.wolfnet_widget {

    &.wolfnet_featuredListings {
        // TODO: Remove if BrandCo stops targeting our class names:
        height: auto !important;

        .wolfnet_listing {
            // TODO: Remove these 2 rules if BrandCo stops targeting our class names:
            width:  auto !important;
            height: @listingHeight !important;
        }

    }

    &.wolfnet_featuredListings,
    &.wolfnet_listingGrid {

        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        line-height: 1.5em;

        .wolfnet_listing {
            height:     @listingHeight;
            margin:     0 @listingPadding 0 0;
            padding:    0;
            color:      @gray-dark;
            font-family: 'Lato', 'Calibri', 'Carlito', sans-serif;
            font-size:  1em;
            // TODO: Remove if BrandCo stops targeting our class names:
            font-weight: normal;
            text-align: left;

            a {
                color: @gray-dark;
                // TODO: Remove if BrandCo stops targeting our class names:
                font-weight: normal;
                text-align: left;
            }

            .wolfnet_info_separator:after {
                content: '/';
            }

            .wolfnet_listingMain {
                background: none !important;
            }

            .wolfnet_listingHead {
                position:   relative;
                margin:     0;
                padding:    0;
                height:     @listingImgHeight;
                text-align: center;
                color:      #fff;
                border:     none;
                background-repeat:   no-repeat;
                background-position: center;
                background-size:     cover;

                .wolfnet_listingImage {
                    border: none;
                    margin: 0;
                    padding: 0;
                    max-width: @listingImgWidth;
                    .vertical-align();

                    img {
                        width: 100%;
                        height: auto;
                        border: none;
                    }

                    .wnt-thumbnail-scroller {

                        .wnt-nav-btn {

                            // Override BrandCo theme button styles
                            box-shadow: none;
                            -webkit-box-shadow: none;
                            border-radius: 0;

                        }

                    }

                }

                .wolfnet_listingInfo {
                    position: absolute;
                    bottom: 0;
                    width: 100%;
                    padding: (@infoPadding / 2) @infoPadding (@infoPadding / 2) @infoPadding;
                    background-color: fade(@accentColor, 75%);
                    text-align: left !important;
                }

            }

            .wolfnet_price {
                float: right;
                display: block;
                font-weight: normal;
            }

            .wolfnet_bed_bath {
                display: block;
                font-size: 1em;
                font-style: normal;
                text-transform: uppercase;
                line-height: inherit;
                white-space: nowrap;
                margin: 0 @infoPadding 0 0;

                .wolfnet_label {
                    display: none;
                }

                .wolfnet_beds,
                .wolfnet_baths {
                    display: inline-block;

                    &:before {
                        content: none;
                    }

                }

                .wolfnet_beds {
                    margin-right: 0;

                    &:after {
                        content: ' Beds';
                    }

                }

                .wolfnet_baths {

                    &:after {
                        content: ' Baths';
                    }

                }

            }

            .wolfnet_location,
            .wolfnet_address {
                display: block;
                line-height: 1.3em;
            }

            .wolfnet_locationInfo {
                padding: @infoPadding;
                background-color: @gray-light;
                color: #fff;
                min-height: 3.3em;

                .wolfnet_locationPart {
                    max-width: @listingLocationWidth;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    text-align: left !important;
                }

            }

            .wolfnet_branding {
                max-width: @brandingWidth;
                font-size: 0.86em;
                color: @gray-light;

                .wolfnet_brokerLogo img {
                    float: right;
                    max-height: 35px;
                }

            }

            &.wolfnet_colLast {

                .wolfnet_listingMain {
                    border: none !important;
                }

            }

            &:hover {
                .wolfnet_listingHead {
                    .wolfnet_detailsLink {
                        display: block;
                    }
                }
            }

        }

    }

    &.wolfnet_listingGrid {

        .wolfnet_listing {
            width: @listingWidth;
            margin: 0 @listingPadding 1em @listingPadding;

            &.wolfnet_listing_sm {
                width: @listingWidthSm;

                .wolfnet_listingHead {
                    height: @listingImgHeightSm;

                    img {
                        max-height: @listingImgHeightSm;
                    }

                    .wolfnet_listingInfo {
                        font-size: 0.8em;
                    }

                }

            }

            &.wolfnet_listing_xs {
                width: @listingWidthXs;
                font-size: 0.9em;

                .wolfnet_listingHead {
                    height: @listingImgHeightXs;

                    img {
                        max-height: @listingImgHeightXs;
                    }

                    .wolfnet_listingInfo {
                        font-size: 0.8em;
                    }

                }

            }

        }

    }

}
