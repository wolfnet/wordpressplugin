/**
 * CSS Document
 *
 * @package       css
 * @title         wolfnet.birch.less
 * @copyright     Copyright (c) 2016 WolfNet Technologies, LLC
 *
 *                This program is free software; you can redistribute it and/or
 *                modify it under the terms of the GNU General Public License
 *                as published by the Free Software Foundation; either version 2
 *                of the License, or (at your option) any later version.
 *
 *                This program is distributed in the hope that it will be useful,
 *                but WITHOUT ANY WARRANTY; without even the implied warranty of
 *                MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *                GNU General Public License for more details.
 *
 *                You should have received a copy of the GNU General Public License
 *                along with this program; if not, write to the Free Software
 *                Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 *
 */

@import 'public/css/_variables.inc';
@import 'public/css/_mixins.inc';


//
// Variables
// -------------------------------------------- //


//== Listing dimensions

@listingImgRatio:       4 / 3;

@listingPadding:        20px;

@listingImgWidth:       272px;
@listingImgWidthSm:     round(@listingImgWidth * 0.85);  // ~230
@listingImgWidthXs:     round(@listingImgWidth * 0.714); // ~195

@listingImgHeight:      round(@listingImgWidth   / @listingImgRatio); // ~205
@listingImgHeightSm:    round(@listingImgWidthSm / @listingImgRatio); // ~173
@listingImgHeightXs:    round(@listingImgWidthXs / @listingImgRatio); // ~146

@listingWidth:          @listingImgWidth;
@listingWidthSm:        @listingImgWidthSm;
@listingWidthXs:        @listingImgWidthXs;

@listingHeight:         auto;

@listingLocationWidth:  (@listingImgWidth - @brandingWidth);

@brandingWidth:         100px;

//@control-width:         36px;
//@control-height:        36px;


//== Colors

@gray-lighter:          lighten(#000, 80%);   // #ccc


//
// Styles
// -------------------------------------------- //


.wolfnet_widget {

    &.wolfnet_featuredListings {
        // TODO: Remove if BrandCo stops targeting our class names:
        height: auto !important;

        .wolfnet_listing {
            margin: 0 0 10px 0;
            // TODO: Remove these 2 rules if BrandCo stops targeting our class names:
            width:  auto !important;
            height: @listingHeight !important;
        }

    }

    &.wolfnet_featuredListings,
    &.wolfnet_listingGrid {

        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        line-height: 1.5em;

        .wolfnet_listing {
            height:     @listingHeight;
            margin:     0 @listingPadding 0 0;
            padding:    0;
            color:      @gray-dark;
            // TODO: Remove if BrandCo stops targeting our class names:
            font-weight: normal;
            text-align: left;

            a {
                color: @gray-dark;
                // TODO: Remove if BrandCo stops targeting our class names:
                font-weight: normal;
                text-align: left;
            }

            .wolfnet_info_separator:after {
                content: '/';
            }

            .wolfnet_listingMain {
                background: none !important;
            }

            .wolfnet_listingHead {
                position:   relative;
                margin-bottom: 5px;
                padding:    0;
                height:     @listingImgHeight;
                text-align: left;
                color:      #fff;
                border:     none;
                background-repeat:   no-repeat;
                background-position: center;
                background-size:     cover;

                .wolfnet_listingImage {
                    border: none;
                    padding: 0;
                    max-width: @listingImgWidth;
                    .vertical-align();

                    img {
                        width: 100%;
                        height: auto;
                        border: none;
                    }

                }

                .wolfnet_listingInfo {
                    position: absolute;
                    bottom: 0;
                    padding: 0 0 0.3em 0.5em;
                    width: 100%;
                    min-height: 24px;
                    line-height: 1.25em;
                    text-align: left !important;
                    text-shadow: 0 0 5px #000;
                    .gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.5));
                }

            }

            .wolfnet_price {
                display: inline !important;
                text-align: left !important;
                font-size: 1.5em;
                font-weight: bold;
            }

            .wolfnet_bed_bath {
                display: inline !important;
                font-size: 1em;
                font-style: normal;
                text-align: left !important;
                line-height: inherit;
                white-space: nowrap;
                margin-bottom: inherit;
                position: relative;
                right: inherit;
                top: 0;
                left: 0;

                .wolfnet_label {
                    display: none;
                }

                .wolfnet_beds,
                .wolfnet_baths {
                    display: inline-block;

                    &:before {
                        content: none;
                    }

                }

                .wolfnet_beds {
                    margin-right: inherit;

                    &:after {
                        content: ' Beds';
                    }

                }

                .wolfnet_baths {

                    &:after {
                        content: ' Baths';
                    }

                }

            }

            .wolfnet_location,
            .wolfnet_address {
                display: block;
                line-height: 1.3em;
            }

            .wolfnet_locationInfo {
                float: left;

                .wolfnet_locationPart {
                    max-width: @listingLocationWidth;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    text-align: left !important;
                }

            }

            .wolfnet_branding {
                float: right;
                max-width: @brandingWidth;
                font-size: 0.86em;

                .wolfnet_brokerLogo img {
                }

            }

            &.wolfnet_colLast {

                .wolfnet_listingMain {
                    border: none !important;
                }

            }

        }

    }

    &.wolfnet_listingGrid {

        .wolfnet_listing {
            width: @listingWidth;
            margin: 0 @listingPadding 1em @listingPadding;

            &.wolfnet_listing_sm {
                width: @listingWidthSm;

                .wolfnet_listingHead {
                    height: @listingImgHeightSm;
                }

            }

            &.wolfnet_listing_xs {
                width: @listingWidthXs;

                .wolfnet_listingHead {
                    height: @listingImgHeightXs;
                }

            }

        }

    }

}
